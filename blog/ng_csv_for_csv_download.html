<!DOCTYPE html>

<html ng-app="PortfolioWebsite">

<head>

    <!-- meta tags and stuff, focus on SEO -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/png" href="/favicon.png" />

    <!-- stylesheets -->
    <link href='https://fonts.googleapis.com/css?family=Kadwa:400,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Droid+Serif:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=PT+Sans' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="/static/styles/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/static/styles/styles.css">
    <link rel="stylesheet" href="/static/styles/font-awesome.min.css">

    <!-- js dependencies -->
    <script type="text/javascript" src="/static/scripts/angular.min.js"></script>
    <script type="text/javascript" src="/static/scripts/angular-route.min.js"></script>
    <script type="text/javascript" src="/static/scripts/angular-resource.min.js"></script>
    <script type="text/javascript" src="/static/scripts/ui-bootstrap.min.js"></script>
    <script type="text/javascript" src="/static/scripts/jquery.min.js"></script>

    <!-- jquery code -->
    <script type="text/javascript" src="/static/scripts/homepage.js"></script>
    <script type="text/javascript" src="/static/scripts/dynamic-image.js"></script>

    <!-- angular code -->
    <script src="/app/app.js"></script>
    <script src="/app/controllers/IndexCtrl.js"></script>
    <script src="/app/services/resources.js"></script>
    <script src="/app/directives/leftColumn.js"></script>
    <script src="/app/directives/collapseNav.js"></script>

    <!-- google analytics -->
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-68428821-2', 'auto');
        ga('send', 'pageview');
    </script>

    <title>Using ng-csv to download csv files</title>

</head>

<body ng-controller="IndexController as vm">

<div class="container-fluid">

    <div class="row">

        <div class="collapse-navbar">

            <collapse-nav info="vm" mode="{mode: 'blog'}"></collapse-nav>

        </div>

        <div class="left-column-container">

            <left-column info="vm" mode="{mode: 'blog'}"></left-column>

        </div>

        <div class="main-content-container">

            <div class="main-page">

                <div class="main-info">

                    <div class="main-banner">

                        <img src="/static/images/rock_skip.jpg" class="img-circle" />

                        <span class="main-quote main-title">
                            Using ng-csv to download csv files
                        </span>

                        <span class="main-subtitle">
                            May 6th, 2016
                        </span>

                    </div>

                </div>

                <div class="blog-content-wrapper">
                    <div class="blog-content">

    This blog post covers how to use an AngularJS package to serve a csv download using JSON or array data. The only dependency that this package requires is ng-santize, which you can get the latest version <a href="https://code.angularjs.org/1.5.0-beta.1/" target="_blank">here</a>&nbsp;(or use the appropriate package manager).

    Let's start with getting ng-csv itself. You can download the package manually <a href="https://github.com/asafdav/ng-csv/releases" target="_blank">here</a>, or you can do <code>bower install ng-csv</code> or <code>npm install ng-csv</code>

    Once you have the files locally, you can go ahead and add them to your angular dependencies. This means going to where you defined angular.module and adding both ngSanitize and ngCsv. An example would be

    <code> <span class="pl-k">var&nbsp;</span>app&nbsp;<span class="pl-k">=</span> angular.module(<span class="pl-s"><span class="pl-pds">'</span>myapp<span class="pl-pds">'</span></span>, [<span class="pl-s"><span class="pl-pds">'</span>ngSanitize<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>ngCsv<span class="pl-pds">'</span></span>])</code>

    After you have all your files and dependencies set up, you can go ahead and start using ng-csv.

    The key thing when it comes to ng-csv is placing the directive within a button element. The attribute of ng-csv should be equal to your json or array data. You also need to be sure to add a filename attribute. This is what the name of the file downloaded will be called. Also through in a type of button for this element. The finished button element should look like this
    <pre class="pre-code-example">&lt;<span class="pl-ent">button</span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>button<span class="pl-pds">"</span></span> <span class="pl-e">ng-csv</span>=<span class="pl-s"><span class="pl-pds">"someDataVariableHere</span><span class="pl-pds">"</span></span> <span class="pl-e">filename</span>=<span class="pl-s"><span class="pl-pds">"download.csv</span><span class="pl-pds">"</span></span>&gt;Download&lt;/<span class="pl-ent">button</span>&gt;</pre>

    Now when someone clicks, 'Download', they will have the csv downloaded to their computer!

    For more info and options on this package, the <a href="https://github.com/asafdav/ng-csv" target="_blank">github page</a> has good documentation.</pre>
    &nbsp;

</div>
                </div>

                <div id="comments-section">
                    <div id="disqus_thread"></div>
                    <script>
                        /**
                         * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
                         * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
                         */

                        var disqus_config = function () {
                            //this.page.url = 'danjamrozik.me/blog/ng_csv_for_csv_download'; // Replace PAGE_URL with your page's canonical URL variable
                            this.page.identifier = 'ng_csv_for_csv_download'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
                        };

                        (function() { // DON'T EDIT BELOW THIS LINE
                            var d = document, s = d.createElement('script');

                            s.src = '//danjamrozik.disqus.com/embed.js';

                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    </script>
                    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
                </div>

            </div>

        </div>

    </div>

</div>

</body>

</html>
